<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions">
<ui:composition template="template.xhtml">

    <ui:define name="breadcumb-title">
        <h5 class="breadcrumbs-title">Consulta de Pessoas</h5>

    </ui:define>
    <ui:define name="breadcumb">
        <a href="#">Consulta de Pessoas</a>
    </ui:define>
    <ui:define name="conteudo">
        <p class="caption">Seção para consultar as pessoas que possuem alguma medida cautelar. Para maiores informações, consulte a seção de Medidas Cautelares!</p>

        <div class="divider"></div>
        <h:form styleClass="col s12" id="form">

            <div id="basic-form" class="section">
                <div class="row">
                    <!-- Cadastro das informações pessoais -->
                    <div class="col s12 m12 19">
                        <h4 class="header">Consulta de Pessoas</h4>
                        <div class="row">

                            <table class="responsive-table display" id="data-table-simple" cellspacing="0">
                                <thead>
                                <tr>

                                    <th data-field="nome">
                                        Nome
                                    </th>
                                    <th data-field="mae">
                                        Mãe
                                    </th>
                                    <th data-field="documento">
                                        Documento
                                    </th>
                                    <th data-field="nascimento">
                                        Nascimento
                                    </th>
                                    <th data-field="acoes">
                                        Ações
                                    </th>
                                </tr>
                                </thead>

                                <tbody>
                                <ui:repeat value="#{pessoaBean.todasPessoas}" var="pessoa">
                                    <tr>
                                        <td>#{pessoa.nome}</td>
                                        <td>#{pessoa.mae}</td>
                                        <td>#{pessoa.documento}</td>
                                        <td>#{pessoa.nascimento}</td>
                                        <td>
                                            <p:commandLink process="@this" action="#{pessoaBean.goEditarPessoa}" >
                                                <span class="mdi-content-create"
                                                      style="color:deepskyblue"></span>
                                                <f:setPropertyActionListener value="#{pessoa}"
                                                                             target="#{pessoaBean.pessoaSelecionada}"/>

                                            </p:commandLink>
                                            <p:commandLink styleClass="modal-trigger" update=":form:formConsulta"
                                                           onclick="href='#dadosPessoaisCompleto'" process="@this"><span
                                                    class="mdi-action-search"
                                                    style="color:black; margin-left: 20px"></span>
                                                <f:setPropertyActionListener value="#{pessoa}"
                                                                             target="#{pessoaBean.pessoaSelecionada}"/>

                                            </p:commandLink>
                                            <p:commandLink>
                                                <span class="mdi-action-delete"
                                                      style="color:red; margin-left: 20px">

                                                </span>

                                            </p:commandLink>
                                        </td>
                                    </tr>


                                </ui:repeat>

                                </tbody>


                            </table>

                            <div id="dadosPessoaisCompleto" class="modal">
                                <h:panelGroup id="formConsulta">
                                    <div class="modal-content  indigo white-text">

                                        <h4 class="header center-align">
                                            <strong>#{pessoaBean.pessoaSelecionada.nome}</strong></h4>
                                        <div class="row">
                                            <p>
                                                <strong> Mãe - </strong>    #{pessoaBean.pessoaSelecionada.mae}
                                            </p>
                                        </div>
                                        <div class="row">
                                            <p>
                                                <strong>Documento -</strong>      #{pessoaBean.pessoaSelecionada.documento}
                                            </p>
                                        </div>
                                        <div class="row">
                                            <p>
                                                <strong>Nascimento - </strong> #{pessoaBean.pessoaSelecionada.nascimento}
                                            </p>
                                        </div>
                                        <br/>
                                        <div class="divider"/>

                                        <br/>
                                        <div class="row">
                                            <p>
                                                <strong>Logradouro - </strong>    #{pessoaBean.pessoaSelecionada.endereco.logradouro}
                                            </p>
                                        </div>
                                        <div class="row">
                                            <p>
                                                <strong> Bairro -</strong>     #{pessoaBean.pessoaSelecionada.endereco.bairro}
                                            </p>
                                        </div>
                                        <div class="row">
                                            <p>
                                                <strong> Cidade - </strong>    #{pessoaBean.pessoaSelecionada.endereco.cidade}
                                            </p>
                                        </div>

                                    </div>

                                </h:panelGroup>
                            </div>


                        </div>

                    </div>
                </div>

            </div>

        </h:form>

    </ui:define>


</ui:composition>
</html>